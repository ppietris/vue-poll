!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("vue-poll",[],t):"object"==typeof exports?exports["vue-poll"]=t():e["vue-poll"]=t()}(this,function(){return function(e){function t(s){if(n[s])return n[s].exports;var o=n[s]={exports:{},id:s,loaded:!1};return e[s].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1);var s=n(6)(n(7),n(8),null,null);e.exports=s.exports},function(e,t,n){var s=n(2);"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);n(4)("23f7b8d6",s,!0)},function(e,t,n){t=e.exports=n(3)(!1),t.push([e.id,'.vue-poll{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#2c3e50}.vue-poll .noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vue-poll .qst{font-weight:400}.vue-poll .ans-cnt{margin:20px 0}.vue-poll .ans-cnt .ans{position:relative;margin-bottom:10px}.vue-poll .ans-cnt .ans:first-child{margin-top:0}.vue-poll .ans-cnt .ans-no-vote{text-align:center;border:2px solid #77c7f7;box-sizing:border-box;border-radius:5px;cursor:pointer;padding:5px 0;transition:background .2s ease-in-out;-webkit-transition:background .2s ease-in-out;-moz-transition:background .2s ease-in-out}.vue-poll .ans-cnt .ans-no-vote .txt{color:#77c7f7;transition:color .2s ease-in-out;-webkit-transition:color .2s ease-in-out;-moz-transition:color .2s ease-in-out}.vue-poll .ans-cnt .ans-no-vote.active{background:#77c7f7}.vue-poll .ans-cnt .ans-no-vote.active .txt{color:#fff}.vue-poll .ans-cnt .ans-voted{padding:5px 0}.vue-poll .ans-cnt .ans-voted .percent,.vue-poll .ans-cnt .ans-voted .txt{position:relative;z-index:1}.vue-poll .ans-cnt .ans-voted .percent{font-weight:700;min-width:51px;display:inline-block;margin:0 10px}.vue-poll .ans-cnt .ans-voted.selected .txt:after{content:"\\2714";margin-left:10px}.vue-poll .ans-cnt .ans .bg{position:absolute;width:0;top:0;left:0;bottom:0;z-index:0;background-color:#e1e8ed;border-top-left-radius:5px;border-bottom-left-radius:5px;transition:all .3s cubic-bezier(.5,1.2,.5,1.2);-webkit-transition:all .3s cubic-bezier(.5,1.2,.5,1.2);-moz-transition:all .3s cubic-bezier(.5,1.2,.5,1.2)}.vue-poll .ans-cnt .ans .bg.selected{background-color:#77c7f7}.vue-poll .votes{font-size:14px;color:#8899a6}.vue-poll .submit{display:block;text-align:center;margin:0 auto;max-width:80px;text-decoration:none;background-color:#41b882;color:#fff;padding:10px 25px;border-radius:5px}.vue-poll .newAnswerInput{padding:5px 0;border-radius:5px;box-sizing:border-box;display:block;text-align:center;color:#41b882;border:2px solid #41b882;width:100%;color:#fff;background:#41b882}.vue-poll .newAnswerInput::placeholder{color:#fff}.vue-poll .newAnswerInput .selected{background:#fff;color:#41b882}',""])},function(e,t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=s(o),a=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(a).concat([r]).join("\n")}return[n].join("\n")}function s(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,"+t;return"/*# "+n+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var s=n(t,e);return t[2]?"@media "+t[2]+"{"+s+"}":s}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var s={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(s[r]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&s[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function s(e){for(var t=0;t<e.length;t++){var n=e[t],s=c[n.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](n.parts[o]);for(;o<n.parts.length;o++)s.parts.push(r(n.parts[o]));s.parts.length>n.parts.length&&(s.parts.length=n.parts.length)}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(r(n.parts[o]));c[n.id]={id:n.id,refs:1,parts:a}}}}function o(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function r(e){var t,n,s=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(s){if(v)return h;s.parentNode.removeChild(s)}if(m){var r=f++;s=p||(p=o()),t=a.bind(null,s,r,!1),n=a.bind(null,s,r,!0)}else s=o(),t=i.bind(null,s),n=function(){s.parentNode.removeChild(s)};return t(e),function(s){if(s){if(s.css===e.css&&s.media===e.media&&s.sourceMap===e.sourceMap)return;t(e=s)}else n()}}function a(e,t,n,s){var o=n?"":s.css;if(e.styleSheet)e.styleSheet.cssText=b(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function i(e,t){var n=t.css,s=t.media,o=t.sourceMap;if(s&&e.setAttribute("media",s),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document,u=n(5),c={},d=l&&(document.head||document.getElementsByTagName("head")[0]),p=null,f=0,v=!1,h=function(){},m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n){v=n;var o=u(e,t);return s(o),function(t){for(var n=[],r=0;r<o.length;r++){var a=o[r],i=c[a.id];i.refs--,n.push(i)}t?(o=u(e,t),s(o)):o=[];for(var r=0;r<n.length;r++){var i=n[r];if(0===i.refs){for(var l=0;l<i.parts.length;l++)i.parts[l]();delete c[i.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t){for(var n=[],s={},o=0;o<t.length;o++){var r=t[o],a=r[0],i=r[1],l=r[2],u=r[3],c={id:e+":"+o,css:i,media:l,sourceMap:u};s[a]?s[a].parts.push(c):n.push(s[a]={id:a,parts:[c]})}return n}},function(e,t){e.exports=function(e,t,n,s){var o,r=e=e||{},a=typeof e["default"];"object"!==a&&"function"!==a||(o=e,r=e["default"]);var i="function"==typeof r?r.options:r;if(t&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns),n&&(i._scopeId=n),s){var l=Object.create(i.computed||null);Object.keys(s).forEach(function(e){var t=s[e];l[e]=function(){return t}}),i.computed=l}return{esModule:o,exports:r,options:i}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"Poll",props:{question:{type:String,required:!0},answers:{type:Array,required:!0},addAnswerPlaceholder:{type:String,"default":"Add your answer"},addAnswer:{type:Number,"default":0},showResults:{type:Boolean,"default":!1},showTotalVotes:{type:Boolean,"default":!0},finalResults:{type:Boolean,"default":!1},multiple:{type:Boolean,"default":!1},submitButtonText:{type:String,"default":"Submit"},customId:{type:Number,"default":0}},data:function(){return{visibleResults:JSON.parse(this.showResults),newAnswer:"",addedAnswersCounter:0}},computed:{totalVotes:function n(){var n=0;return this.answers.filter(function(e){!isNaN(e.votes)&&e.votes>0&&(n+=parseInt(e.votes))}),n},totalVotesFormatted:function(){return this.totalVotes.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},mostVotes:function(){var e=0;return this.answers.filter(function(t){!isNaN(t.votes)&&t.votes>0&&t.votes>=e&&(e=t.votes)}),e},calcAnswers:function(){var e=this;return 0===this.totalVotes?this.answers.map(function(e){return e.percent="0%",e}):this.answers.filter(function(t){return!isNaN(t.votes)&&t.votes>0?t.percent=Math.round(parseInt(t.votes)/e.totalVotes*100)+"%":t.percent="0%",t})},totalSelections:function(){return this.calcAnswers.filter(function(e){return e.selected}).length},showAddAnswer:function(){return this.addedAnswersCounter<this.addAnswer}},methods:{addNewAnswer:function(){var e=this.answers.length;this.answers.push({value:e+1,text:this.newAnswer,votes:0,selected:!1}),this.addAnswer=!1,this.addedAnswersCounter=++this.addedAnswersCounter},handleMultiple:function(){var e=[];this.calcAnswers.filter(function(t){t.selected&&(t.votes++,e.push({value:t.value,votes:t.votes}))}),this.visibleResults=!0;var t={arSelected:e,totalVotes:this.totalVotes};this.customId&&(t.customId=this.customId),this.$emit("addvote",t)},handleVote:function(e){if(this.multiple)return void 0===e.selected&&console.log("Please add 'selected: false' on the answer object"),void(e.selected=!e.selected);e.votes++,e.selected=!0,this.visibleResults=!0;var t={value:e.value,votes:e.votes,totalVotes:this.totalVotes};this.customId&&(t.customId=this.customId),this.$emit("addvote",t)}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-poll"},[n("h3",{staticClass:"qst",domProps:{innerHTML:e._s(e.question)}}),e._v(" "),n("div",{staticClass:"ans-cnt"},[e._l(e.calcAnswers,function(t,s){return n("div",{key:s,"class":(o={ans:!0},o[t.custom_class]=t.custom_class,o)},[e.finalResults?[n("div",{staticClass:"ans-voted final"},[t.percent?n("span",{staticClass:"percent",domProps:{textContent:e._s(t.percent)}}):e._e(),e._v(" "),n("span",{staticClass:"txt",domProps:{innerHTML:e._s(t.text)}})]),e._v(" "),n("span",{"class":{bg:!0,selected:e.mostVotes==t.votes},style:{width:t.percent}})]:[e.visibleResults?n("div",{"class":{"ans-voted":!0,selected:t.selected}},[t.percent?n("span",{staticClass:"percent",domProps:{textContent:e._s(t.percent)}}):e._e(),e._v(" "),n("span",{staticClass:"txt",domProps:{innerHTML:e._s(t.text)}})]):n("div",{"class":{"ans-no-vote noselect":!0,active:t.selected},on:{click:function(n){n.preventDefault(),e.handleVote(t)}}},[n("span",{staticClass:"txt",domProps:{innerHTML:e._s(t.text)}})]),e._v(" "),n("span",{staticClass:"bg",style:{width:e.visibleResults?t.percent:"0%"}})]],2);var o}),e._v(" "),e.finalResults||e.visibleResults||!e.showAddAnswer?e._e():[n("div",{staticClass:"ans"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newAnswer,expression:"newAnswer"}],staticClass:"newAnswerInput",attrs:{type:"text",placeholder:e.addAnswerPlaceholder},domProps:{value:e.newAnswer},on:{click:function(t){e.addAnswerPlaceholder=""},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.addNewAnswer(t):null},input:function(t){t.target.composing||(e.newAnswer=t.target.value)}}})])]],2),e._v(" "),e.showTotalVotes&&(e.visibleResults||e.finalResults)?n("div",{staticClass:"votes",domProps:{textContent:e._s(e.totalVotesFormatted+" votes")}}):e._e(),e._v(" "),!e.finalResults&&!e.visibleResults&&e.multiple&&e.totalSelections>0?[n("a",{staticClass:"submit",attrs:{href:"#"},domProps:{textContent:e._s(e.submitButtonText)},on:{click:function(t){return t.preventDefault(),e.handleMultiple(t)}}})]:e._e()],2)},staticRenderFns:[]}}])});